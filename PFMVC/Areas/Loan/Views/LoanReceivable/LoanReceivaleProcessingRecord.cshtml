@model List<DLL.ViewModel.VM_tbl_Loan_Receivable>


@{
    Layout = null;
}


<fieldset>
    <legend>Previous Record</legend>
    
    @if(Model != null &&  Model.Count>=0)
{
<table class="table table-striped table-condensed smaller">
    <tr style="font-weight:bold; text-align:center">
        <td>EID</td>
        <td>Emp Name</td>
        <td>Loan id</td>
        <td>Principal.</td>
        <td>Interest</td>
        <td>PF Month</td>
        <td>PF Year</td>
        
    </tr>
    @foreach (var item in Model)
    {
        <tr style="text-align:center">
            @*<td>@DateTime.ParseExact("24/"+item.PF_Month+"/"+item.PF_Year, "d/M/yyyy", System.Globalization.CultureInfo.InvariantCulture).ToString("MMMM, yyyy")
                
            </td>
            <td>@Convert.ToDecimal(item.Principal).ToString("##,##,##0.00")</td>
            <td>@Convert.ToDecimal(item.interest).ToString("##,##,##0.00")</td>*@
            @*<td>@if (item.PassVoucher)
                {
                    @:Completed
                }
                else{
                    @: <span style="color:red">Pending</span>
                }
            </td>*@
            @*<td>@item.PassVoucherMessage</td>*@
            <td>@item.IdentificationNumber</td>
            <td>@item.EmpName</td>
            <td>@item.Loan_id</td>
            <td>@item.Principal</td>
            <td>@item.interest</td>
            <td>@item.PF_Month</td>
            <td>@item.PF_Year</td>           
            @*<td>
                <button class="btn btn-success btn-xs" onclick="AccountTransaction(@item.PF_Month, @item.PF_Year)">Commit</button>
                <button class="btn btn-warning btn-xs" onclick="PFVoucherReport(@item.PF_Month, @item.PF_Year)">Accounting Voucher</button>
            </td>*@
        </tr>
    }


</table>
    }
    else{
    <div class="alert alert-warning">Previously no contribution file uploaded!</div>
    }
    
</fieldset>
  

@*<script>
  function AccountTransaction(month, year) {
        if (confirm("Confirm? After accounting transaction completed you cannot update salary information for this month...") == true) {
            var viewURL = rootPath + "/Salary1/AccountTransactionSalary/?month=" + month + "&year=" + year;
            $.post(viewURL, function (data) {
                if (data.Success == true) {
                    ShowModalMessage(data.Message);
                    var viewURL = "/Salary1/SalaryMonthRecord/";
                    $.get(viewURL, function (data) {
                        $("#SalaryMonthRecord").html("").html(data);
                    });
                }
                else {
                    ErrorNotify("Transaction Failed...");
                    ShowModalMessage(data.ErrorMessage);
                }
            })
        }
        else {
            ErrorNotify("You cancelled the operation!");
        }

        $("#ModalSpace").html("Confirm? After accounting transaction completed you cannot update contribution information for this month..."),
               $("#ModalSpace").dialog({
                   width: 'auto',
                   resizable: false,
                   modal: true,
                   show: "slide",
                   hide: "slide",

                   title: "Confirm Accounting Transaction?",
                   buttons: [{
                       text: "Yes", click: function () {
                           var viewURL = rootPath + "/PFContribution/Contribution/PassVoucherConfirm/?month=" + month + "&year=" + year;
                           $.post(viewURL, function (data) {
                               if (data.Success == true) {
                                   ShowModalMessage(data.Message);
                                   var viewURL = rootPath + "/PFContribution/Contribution/SalaryMonthRecord/";
                                   $.get(viewURL, function (data) {
                                       $("#SalaryMonthRecord").html("").html(data);
                                       $(this).dialog("close");
                                   });
                               }
                               else {
                                   ErrorNotify(data.ErrorMessage);
                                   ShowModalMessage(data.ErrorMessage);
                                   $(this).dialog("close");
                               }
                           })
                           $(this).dialog("close"); // added by shohid
                       }
                   }, {
                       text: "Close",
                       click: function () {
                           $(this).dialog("close");
                           //ErrorNotify("You cancelled the operation!");
                       }
                   }]
               });
    }

    function PFVoucherReport(month, year) {

        var viewURL = '../../Accounting/Base/PFVoucherReport/?month=' + month + "&year=" + year;
        //window.open(viewURL, 'window name', 'window settings')
        FancyBox(viewURL);
     }

</script>*@
